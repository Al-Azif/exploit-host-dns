# Exploit Host DNS

Purpose made DNS Docker file setup for hosting exploits for the web browser for Sony PlayStation devices and the Nintendo WiiU/Switch.

## Features

### Stand Alone

- Blocks telemetry
- Blocks official updates
- Pass through for PlayStation game updates
  - Blocks metadata domain, but raw PKG links work. So third party tools like OrbisPatches will work out of the box
- Pass through for remainder of the internet
  - Obviously Sony/Nintendo domains will not work

### With Exploit Host HTTP

When used in conjunction with Exploit Host HTTP the following additional features are added:

- Enables internet speed tests
- Enables serving custom updates
- Hijacks default landing pages

## Options (Environment Variables)

| Option             | Default       | Type    | Info                         |
|:-------------------|:--------------|:--------|:-----------------------------|
| DEBUG              | `false`       | boolean | Show debug output for `entrypoint.sh` in the Docker log. |
| AUTOUPDATE_ZONES   | `false`       | boolean | Update the zone files automatically if `/opt/dns-config-watchdog/zones.json` is modified. |
| SMART_WATCHER      | `false`       | boolean | How modifications to `/opt/dns-config-watchdog/zones.json` are checked. If `true` uses Python's Watchdog package. If `false` uses a looped shell command to watch for changes. Ignored if AUTOUPDATE_ZONES is `false`. |
| LOGGING            | `false`       | boolean | Enable DNS logging. Logged to `/var/log/named/`. |
| HEALTHCHECK_BYPASS | `false`       | boolean | Skips the built in HEALTHCHECK directive. Will always appear healthy. |
| DNS_RESTART        | `rndc reload` | string  | The command issued the `/opt/dns-config-watchdog/main.py` to restart the DNS server after generating zone files. |
| REDIRECT_IPV4      | none          | string  | Must have an IPv4, an IPv6, or both specified. This is the address which hijacked domains will be forwarded to. |
| REDIRECT_IPV6      | none          | string  | Must have an IPv4, an IPv6, or both specified. This is the address which hijacked domains will be forwarded to. |

## TODO

- [ ] Double check/seperate IPv4 vs IPv6 support better. Don't assume IPv4 is supported if IPv6 is on, etc.
